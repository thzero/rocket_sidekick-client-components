<template>
	<ContentHeader :value="title" />
	<v-row dense>
		<v-col cols="12">
			<v-card
				v-if="!hasDetailItem || hasList"
				class="mb-4"
			>
				<v-card-text>
					filters go here
					{{ dialogDeleteMessage }}
				</v-card-text>
				<v-card-actions>
					<v-spacer></v-spacer>
					<v-btn
						v-if="!hasDetailItem"
						:variant="buttonsForms.variant.add"
						:color="buttonsForms.color.add"
						@click="handleAdd(item)"
					>
						{{ $t('buttons.add') }}
					</v-btn>
				</v-card-actions>
			</v-card>
		</v-col>
		<v-col cols="12">
			<v-row dense>
				<v-col cols="6"
					v-for="item in rockets"
					:key="item.name"
				>
					<div
						v-for="item in rockets"
						:key="item.id"
					>
						<RocketPanel
							:item="item"
						/>
					</div>
				</v-col>
			</v-row>
		</v-col>
	</v-row>
</template>

<script>
import AppCommonConstants from 'rocket_sidekick_common/constants';

import RocketPanel from '@/components/content/rockets/RocketPanel';
import ContentHeader from '@/components/content/Header';

import { useRocketsGalleryBaseComponent } from '@/components/content/rockets/rocketsGalleryBase';
import { useRocketsGalleryBaseProps } from '@/components/content/rockets/rocketsGalleryBaseProps';

export default {
	name: 'RocketsGallery',
	components: {
		ContentHeader,
		RocketPanel
	},
	props: {
		...useRocketsGalleryBaseProps
	},
	setup(props, context) {
		const {
			correlationId,
			error,
			hasFailed,
			hasSucceeded,
			initialize,
			logger,
			noBreakingSpaces,
			notImplementedError,
			success,
			serviceStore,
			sortByOrder,
			target,
			rocketTypes,
			hasCoverUrl,
			rocketCg,
			rocketCgHighest,
			rocketCp,
			rocketCpHighest,
			rocketDiameter,
			rocketDiameterHighest,
			rocketLength,
			rocketLengthHighest,
			rocketLengthOverall,
			rocketManufacturer,
			rocketManufacturerName,
			rocketManufacturerRocketName,
			rocketManufacturerStockId,
			rocketManufacturerUrl,
			rocketMotorMountName,
			rocketMotorMountNames,
			rocketSetupMotorNames,
			rocketSetupMotorNamesByStage,
			rocketSetupMotors,
			rocketStagePrimary,
			rocketStages,
			rocketTypeIcon,
			rocketTypeIconDetermine,
			rocketTypeName,
			rocketTypeNames,
			rocketWeight,
			rocketWeightHighest,
			manufacturers,
			params,
			rockets,
			title,
			type,
			fetch,
			rocketUrl
		} = useRocketsGalleryBaseComponent(props, context, {
			type: AppCommonConstants.Rocketry.DisplayTypes.User
		});

		return {
			correlationId,
			error,
			hasFailed,
			hasSucceeded,
			initialize,
			logger,
			noBreakingSpaces,
			notImplementedError,
			success,
			serviceStore,
			sort,
			target,
			hasCoverUrl,
			rocketTypeIcon,
			rocketTypeIconDetermine,
			rockets,
			title,
			type,
			rocketUrl,
			formControlRef,
			dirty,
			detailItem,
			invalid,
			canDelete,
			detailItemData,
			detailItemTextRows,
			isEditable,
			isNew,
			dirtyCallback,
			invalidCallback,
			handleCancel,
			handleClose,
			handleOk,
			resetForm
		};
	}
};
</script>

<style scoped>
.link {
	text-decoration: underline;
}
</style>
